<system>
    log_level debug
</system>

<source>
    @type sample
    sample {"hello":"world"}
    tag sample
</source>

<match sample>
    @type stdout    
</match>

# <match sample>
#     @type opensearch
#     host opensearch-node1
#     port 9200
#     index_name test
#     @log_level trace
#     with_transporter_log true
#     emit_error_for_missing_id true
#     log_os_400_reason true           
# </match>


<match sample>
  @type http
  endpoint http://data-prepper:2021/log/ingest

  <format>
    @type json
  </format>
</match>

# [OUTPUT]
#     Name http
#     Match *
#     Host data-prepper
#     Port 2021
#     URI /log/ingest
#     Format json
#     json_date_key date
#     json_date_format iso8601
#     gelf_timestamp_key timestamp